# fastai v1

Nota: Esta documentación es para fastai v1.

Si utilizas las versión actual de fastai, deberías consultar la [página de fastai](https://docs.wandb.ai/integrations/fastai).

Para los scripts que usan fastai v1, tenemos un callback que puede registrar automáticamente la topología del modelo, las pérdidas, las métricas, los pesos, los gradientes, las predicciones de las muestras y al mejor modelo entrenado.

```python
import wandb
from wandb.fastai import WandbCallback

wandb.init()

learn = cnn_learner(data,
                    model,
                    callback_fns=WandbCallback)
learn.fit(epochs)
```

Los datos registrados solicitados son configurables a través del constructor del callback.

```python
from functools import partial

learn = cnn_learner(data, model, callback_fns=partial(WandbCallback, input_type='images'))
```

También es posible usar WandbCallback solamente cuando se comienza el entrenamiento. En este caso, debe ser instanciado.

```python
learn.fit(epochs, callbacks=WandbCallback(learn))
```

En esta etapa, también pueden ser pasados los parámetros personalizados.

```python
learn.fit(epochs, callbacks=WandbCallback(learn, input_type='images'))
```

##  Código de Ejemplo

Hemos creado algunos ejemplos para que veas cómo funciona la integración:

**Fastai v1**

* [Clasificación de los personajes de los Simpsons](https://github.com/borisdayma/simpsons-fastai): Una demostración simple para hacer el seguimiento y comparar los modelos de Fastai
*  [Segmentación Semántica con Fastai](https://github.com/borisdayma/semantic-segmentation): Optimiza redes neurales sobre vehículos autónomos

## Opciones

La clase `WandbCallback()` soporta varias opciones:

| Argumento de palabra clave | Defecto | Descripción |
| :--- | :--- | :--- |
| learn | N/A | El learner de fast.ai a enganchar |
| save\_model | True | guarda el modelo si este es mejorado en cada paso. También cargará al mejor modelo al final del entrenamiento. |
| mode | auto | `‘min`’, ‘`max’`, o `‘auto’`: Cómo comparar la métrica de entrenamiento especificada en monitor entre cada paso. |
| monitor | None | métrica de entrenamiento utilizada para medir el desempeño, y así poder guardar el mejor modelo. None utiliza por defecto pérdida de la validación. |
| log | gradients | “gradients”, “parameters”, “all” o None. Las pérdidas y las métricas siempre son registradas. |
| input\_type | None | “images” o None. Usado para visualizar predicciones de las muestras. |
| validation\_data | None | datos utilizados para las predicciones de las muestras si está establecido input\_type |
| predictions | 36 | número de predicciones a realizar si input\_type está establecido y validation\_data es None. |
| seed | 12345 | Inicializa un generador aleatorio para las predicciones de la muestra si input\_type está establecido y validation\_data es None. |

